(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-72303ca2"],{1799:function(t,a,s){"use strict";var i=function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("nav",{attrs:{"aria-label":"Page navigation example"}},[s("ul",{staticClass:"pagination justify-content-center"},[s("li",{staticClass:"page-item",class:{disabled:1===t.pages.current_page}},[s("a",{staticClass:"page-link",attrs:{href:"#","aria-label":"Previous"},on:{click:function(a){return a.preventDefault(),t.updatePages(t.pages.current_page-1)}}},[s("span",{attrs:{"aria-hidden":"true"}},[t._v("«")])])]),t._l(t.pages.total_pages,(function(a,i){return s("li",{key:i,staticClass:"page-item",class:{active:a===t.pages.current_page}},[s("a",{staticClass:"page-link",attrs:{href:"#"},on:{click:function(s){return s.preventDefault(),t.updatePages(a)}}},[t._v(t._s(a))])])})),s("li",{staticClass:"page-item",class:{disabled:t.pages.current_page===t.pages.total_pages}},[s("a",{staticClass:"page-link",attrs:{href:"#","aria-label":"Next"},on:{click:function(a){return a.preventDefault(),t.updatePages(t.pages.current_page+1)}}},[s("span",{attrs:{"aria-hidden":"true"}},[t._v("»")])])])],2)])},e=[],n={props:["pages"],methods:{updatePages:function(t){this.$emit("update",t)}}},r=n,c=s("2877"),o=Object(c["a"])(r,i,e,!1,null,null,null);a["a"]=o.exports},8418:function(t,a,s){"use strict";var i=s("c04e"),e=s("9bf2"),n=s("5c6c");t.exports=function(t,a,s){var r=i(a);r in t?e.f(t,r,n(0,s)):t[r]=s}},"84af":function(t,a,s){"use strict";var i=function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("div",{class:"jumbotron jumbotron-fluid d-flex align-items-end "+t.bannerData.class+" mb-0"},[s("div",{staticClass:"container"},[s("div",{staticClass:"row"},[s("div",{staticClass:"col-md-4"},[s("div",{staticClass:"bg-bright p-3"},[s("h2",{staticClass:"text-center products-banner-text mb-0"},[t._v(t._s(t.bannerData.title))])])])])])])},e=[],n={props:["bannerData"]},r=n,c=s("2877"),o=Object(c["a"])(r,i,e,!1,null,null,null);a["a"]=o.exports},"99af":function(t,a,s){"use strict";var i=s("23e7"),e=s("d039"),n=s("e8b5"),r=s("861d"),c=s("7b0b"),o=s("50c4"),l=s("8418"),d=s("65f0"),u=s("1dde"),f=s("b622"),p=s("2d00"),b=f("isConcatSpreadable"),v=9007199254740991,g="Maximum allowed index exceeded",h=p>=51||!e((function(){var t=[];return t[b]=!1,t.concat()[0]!==t})),m=u("concat"),C=function(t){if(!r(t))return!1;var a=t[b];return void 0!==a?!!a:n(t)},y=!h||!m;i({target:"Array",proto:!0,forced:y},{concat:function(t){var a,s,i,e,n,r=c(this),u=d(r,0),f=0;for(a=-1,i=arguments.length;a<i;a++)if(n=-1===a?r:arguments[a],C(n)){if(e=o(n.length),f+e>v)throw TypeError(g);for(s=0;s<e;s++,f++)s in n&&l(u,f,n[s])}else{if(f>=v)throw TypeError(g);l(u,f++,n)}return u.length=f,u}})},db3f:function(t,a,s){"use strict";var i=function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("div",{staticClass:"modal fade",attrs:{id:"noticeModal",tabindex:"-1",role:"dialog","aria-labelledby":"noticeModalLabel","aria-hidden":"true"}},[s("div",{staticClass:"modal-dialog"},[s("div",{staticClass:"modal-content"},[s("div",{staticClass:"modal-body text-center msg-color"},["success"===t.notice.class?s("i",{staticClass:"far fa-check-circle fa-3x mt-3 text-success"}):s("i",{staticClass:"fas fa-exclamation-circle fa-3x mt-3 text-danger"}),s("p",{staticClass:"mt-3 font-weight-bold"},[t._v(t._s(t.notice.msg))])])])])])},e=[],n={props:["notice"]},r=n,c=s("2877"),o=Object(c["a"])(r,i,e,!1,null,null,null);a["a"]=o.exports},e6dc:function(t,a,s){"use strict";s.r(a);var i=function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("div",[s("loading",{attrs:{active:t.isLoading},on:{"update:active":function(a){t.isLoading=a}}}),s("Banner",{attrs:{bannerData:t.bannerData}}),s("div",{staticClass:"p-3"},[s("div",{staticClass:"container"},[s("ul",{staticClass:"nav justify-content-md-around justify-content-center"},[t._m(0),s("li",{staticClass:"nav-item my-2"},[s("a",{staticClass:"product-item",attrs:{href:"#hot","data-toggle":"list"},on:{click:function(a){return a.preventDefault(),t.getList("hot")}}},[s("i",{staticClass:"fab fa-hotjar"}),t._v(" 人氣商品 ")])]),s("li",{staticClass:"nav-item my-2"},[s("a",{staticClass:"product-item",attrs:{href:"#new","data-toggle":"list"},on:{click:function(a){return a.preventDefault(),t.getList("new")}}},[s("i",{staticClass:"fas fa-star"}),t._v(" 精選新品 ")])]),s("li",{staticClass:"nav-item my-2"},[s("a",{staticClass:"product-item",attrs:{href:"#bread","data-toggle":"list"},on:{click:function(a){return a.preventDefault(),t.getList("bread")}}},[s("i",{staticClass:"fas fa-bread-slice"}),t._v(" 麵包系列 ")])]),s("li",{staticClass:"nav-item my-2"},[s("a",{staticClass:"product-item",attrs:{href:"#cake","data-toggle":"list"},on:{click:function(a){return a.preventDefault(),t.getList("cake")}}},[s("i",{staticClass:"fas fa-birthday-cake"}),t._v(" 甜點蛋糕 ")])]),s("li",{staticClass:"nav-item my-2"},[s("a",{staticClass:"product-item",attrs:{href:"#pie","data-toggle":"list"},on:{click:function(a){return a.preventDefault(),t.getList("pie")}}},[s("i",{staticClass:"fas fa-chart-pie"}),t._v(" 手工派塔 ")])])])])]),s("div",{staticClass:"bg-light-gray p-4"},[s("div",{staticClass:"container pt-4"},[s("div",{staticClass:"tab-content mb-4"},[s("div",{staticClass:"tab-pane active",attrs:{id:"all"}},[s("div",{staticClass:"row mb-4"},t._l(t.products,(function(a){return s("div",{key:a.id,staticClass:"col-md-3 mb-4"},[s("div",{staticClass:"card text-center border-0 h-100 shadow-sm"},[s("a",{staticClass:"heart-icon",attrs:{href:"#"},on:{click:function(s){return s.preventDefault(),t.updateFavorite(a.id)}}},[-1===t.favoriteList.indexOf(a.id)?s("i",{staticClass:"far fa-heart fa-lg"}):s("i",{staticClass:"fas fa-heart fa-lg"})]),s("img",{staticClass:"card-img-top py-3",attrs:{src:a.imageUrl[0],alt:a.title}}),s("div",{staticClass:"card-body"},[s("h5",{staticClass:"card-title font-weight-bold"},[t._v(t._s(a.title))]),s("p",{staticClass:"card-text font-weight-bold price"},[t._v("NT$ "+t._s(t._f("money")(a.price)))])]),s("div",{staticClass:"card-footer d-flex justify-content-between"},[s("button",{staticClass:"btn btn-outline-secondary",attrs:{type:"button"},on:{click:function(s){return t.goProduct(a.id)}}},[t._v("了解更多")]),s("button",{staticClass:"btn btn-primary",attrs:{type:"button",disabled:t.loadingItem===a.id},on:{click:function(s){return t.addCart(a.id)}}},[t.loadingItem===a.id?s("span",[s("span",{staticClass:"spinner-border spinner-border-sm"}),t._v(" 加入中 ")]):s("span",[t._v("加入購物車")])])])])])})),0),s("Pagination",{attrs:{pages:t.pagination},on:{update:t.getProducts}})],1),s("div",{staticClass:"tab-pane",attrs:{id:"hot"}},[s("div",{staticClass:"row"},t._l(t.productType.hot,(function(a){return s("div",{key:a.id,staticClass:"col-md-3 mb-4"},[s("div",{staticClass:"card text-center border-0 h-100 shadow-sm"},[s("a",{staticClass:"heart-icon",attrs:{href:"#"},on:{click:function(s){return s.preventDefault(),t.updateFavorite(a.id)}}},[-1===t.favoriteList.indexOf(a.id)?s("i",{staticClass:"far fa-heart fa-lg"}):s("i",{staticClass:"fas fa-heart fa-lg"})]),s("img",{staticClass:"card-img-top py-3",attrs:{src:a.imageUrl[0],alt:a.title}}),s("div",{staticClass:"card-body"},[s("h5",{staticClass:"card-title font-weight-bold"},[t._v(t._s(a.title))]),s("p",{staticClass:"card-text font-weight-bold price"},[t._v("NT$ "+t._s(t._f("money")(a.price)))])]),s("div",{staticClass:"card-footer d-flex justify-content-between"},[s("button",{staticClass:"btn btn-outline-secondary",attrs:{type:"button"},on:{click:function(s){return t.goProduct(a.id)}}},[t._v("了解更多")]),s("button",{staticClass:"btn btn-primary",attrs:{type:"button",disabled:t.loadingItem===a.id},on:{click:function(s){return t.addCart(a.id)}}},[t.loadingItem===a.id?s("span",[s("span",{staticClass:"spinner-border spinner-border-sm"}),t._v(" 加入中 ")]):s("span",[t._v("加入購物車")])])])])])})),0)]),s("div",{staticClass:"tab-pane",attrs:{id:"new"}},[s("div",{staticClass:"row"},t._l(t.productType.new,(function(a){return s("div",{key:a.id,staticClass:"col-md-3 mb-4"},[s("div",{staticClass:"card text-center border-0 h-100 shadow-sm"},[s("a",{staticClass:"heart-icon",attrs:{href:"#"},on:{click:function(s){return s.preventDefault(),t.updateFavorite(a.id)}}},[-1===t.favoriteList.indexOf(a.id)?s("i",{staticClass:"far fa-heart fa-lg"}):s("i",{staticClass:"fas fa-heart fa-lg"})]),s("img",{staticClass:"card-img-top py-3",attrs:{src:a.imageUrl[0],alt:a.title}}),s("div",{staticClass:"card-body"},[s("h5",{staticClass:"card-title font-weight-bold"},[t._v(t._s(a.title))]),s("p",{staticClass:"card-text font-weight-bold price"},[t._v("NT$ "+t._s(t._f("money")(a.price)))])]),s("div",{staticClass:"card-footer d-flex justify-content-between"},[s("button",{staticClass:"btn btn-outline-secondary",attrs:{type:"button"},on:{click:function(s){return t.goProduct(a.id)}}},[t._v("了解更多")]),s("button",{staticClass:"btn btn-primary",attrs:{type:"button",disabled:t.loadingItem===a.id},on:{click:function(s){return t.addCart(a.id)}}},[t.loadingItem===a.id?s("span",[s("span",{staticClass:"spinner-border spinner-border-sm"}),t._v(" 加入中 ")]):s("span",[t._v("加入購物車")])])])])])})),0)]),s("div",{staticClass:"tab-pane",attrs:{id:"bread"}},[s("div",{staticClass:"row"},t._l(t.productType.bread,(function(a){return s("div",{key:a.id,staticClass:"col-md-3 mb-4"},[s("div",{staticClass:"card text-center border-0 h-100 shadow-sm"},[s("a",{staticClass:"heart-icon",attrs:{href:"#"},on:{click:function(s){return s.preventDefault(),t.updateFavorite(a.id)}}},[-1===t.favoriteList.indexOf(a.id)?s("i",{staticClass:"far fa-heart fa-lg"}):s("i",{staticClass:"fas fa-heart fa-lg"})]),s("img",{staticClass:"card-img-top py-3",attrs:{src:a.imageUrl[0],alt:a.title}}),s("div",{staticClass:"card-body"},[s("h5",{staticClass:"card-title font-weight-bold"},[t._v(t._s(a.title))]),s("p",{staticClass:"card-text font-weight-bold price"},[t._v("NT$ "+t._s(t._f("money")(a.price)))])]),s("div",{staticClass:"card-footer d-flex justify-content-between"},[s("button",{staticClass:"btn btn-outline-secondary",attrs:{type:"button"},on:{click:function(s){return t.goProduct(a.id)}}},[t._v("了解更多")]),s("button",{staticClass:"btn btn-primary",attrs:{type:"button",disabled:t.loadingItem===a.id},on:{click:function(s){return t.addCart(a.id)}}},[t.loadingItem===a.id?s("span",[s("span",{staticClass:"spinner-border spinner-border-sm"}),t._v(" 加入中 ")]):s("span",[t._v("加入購物車")])])])])])})),0)]),s("div",{staticClass:"tab-pane",attrs:{id:"cake"}},[s("div",{staticClass:"row"},t._l(t.productType.cake,(function(a){return s("div",{key:a.id,staticClass:"col-md-3 mb-4"},[s("div",{staticClass:"card text-center border-0 h-100 shadow-sm"},[s("a",{staticClass:"heart-icon",attrs:{href:"#"},on:{click:function(s){return s.preventDefault(),t.updateFavorite(a.id)}}},[-1===t.favoriteList.indexOf(a.id)?s("i",{staticClass:"far fa-heart fa-lg"}):s("i",{staticClass:"fas fa-heart fa-lg"})]),s("img",{staticClass:"card-img-top py-3",attrs:{src:a.imageUrl[0],alt:a.title}}),s("div",{staticClass:"card-body"},[s("h5",{staticClass:"card-title font-weight-bold"},[t._v(t._s(a.title))]),s("p",{staticClass:"card-text font-weight-bold price"},[t._v("NT$ "+t._s(t._f("money")(a.price)))])]),s("div",{staticClass:"card-footer d-flex justify-content-between"},[s("button",{staticClass:"btn btn-outline-secondary",attrs:{type:"button"},on:{click:function(s){return t.goProduct(a.id)}}},[t._v("了解更多")]),s("button",{staticClass:"btn btn-primary",attrs:{type:"button",disabled:t.loadingItem===a.id},on:{click:function(s){return t.addCart(a.id)}}},[t.loadingItem===a.id?s("span",[s("span",{staticClass:"spinner-border spinner-border-sm"}),t._v(" 加入中 ")]):s("span",[t._v("加入購物車")])])])])])})),0)]),s("div",{staticClass:"tab-pane",attrs:{id:"pie"}},[s("div",{staticClass:"row"},t._l(t.productType.pie,(function(a){return s("div",{key:a.id,staticClass:"col-md-3 mb-4"},[s("div",{staticClass:"card text-center border-0 h-100 shadow-sm"},[s("a",{staticClass:"heart-icon",attrs:{href:"#"},on:{click:function(s){return s.preventDefault(),t.updateFavorite(a.id)}}},[-1===t.favoriteList.indexOf(a.id)?s("i",{staticClass:"far fa-heart fa-lg"}):s("i",{staticClass:"fas fa-heart fa-lg"})]),s("img",{staticClass:"card-img-top py-3",attrs:{src:a.imageUrl[0],alt:a.title}}),s("div",{staticClass:"card-body"},[s("h5",{staticClass:"card-title font-weight-bold"},[t._v(t._s(a.title))]),s("p",{staticClass:"card-text font-weight-bold price"},[t._v("NT$ "+t._s(t._f("money")(a.price)))])]),s("div",{staticClass:"card-footer d-flex justify-content-between"},[s("button",{staticClass:"btn btn-outline-secondary",attrs:{type:"button"},on:{click:function(s){return t.goProduct(a.id)}}},[t._v("了解更多")]),s("button",{staticClass:"btn btn-primary",attrs:{type:"button",disabled:t.loadingItem===a.id},on:{click:function(s){return t.addCart(a.id)}}},[t.loadingItem===a.id?s("span",[s("span",{staticClass:"spinner-border spinner-border-sm"}),t._v(" 加入中 ")]):s("span",[t._v("加入購物車")])])])])])})),0)])])])]),s("NoticeModal",{attrs:{notice:t.notice}})],1)},e=[function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("li",{staticClass:"nav-item my-2"},[s("a",{staticClass:"active product-item",attrs:{href:"#all","data-toggle":"list"}},[s("i",{staticClass:"fas fa-store"}),t._v(" 全部商品 ")])])}],n=(s("99af"),s("4de4"),s("4160"),s("c975"),s("a434"),s("159b"),s("3835")),r=s("84af"),c=s("db3f"),o=s("1799"),l={components:{Banner:r["a"],NoticeModal:c["a"],Pagination:o["a"]},data:function(){return{products:[],productsOrder:[],productType:{hot:[],new:[],bread:[],cake:[],pie:[]},notice:{msg:"",class:""},bannerData:{title:"商品介紹",class:"products-banner"},favoriteList:JSON.parse(localStorage.getItem("favoriteList"))||[],pagination:{},isLoading:!1,loadingItem:""}},methods:{getProducts:function(){var t=this,a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;this.isLoading=!0;var s="".concat("https://course-ec-api.hexschool.io/","api/").concat("4e04c0f4-4640-4a82-9572-23fa0dfcbfa2","/ec/products");this.$http.get(s).then((function(s){t.products=s.data.data,t.productType.new=JSON.parse(JSON.stringify(t.products)),t.productsOrder=JSON.parse(JSON.stringify(t.products.sort((function(t,a){return t.options.order-a.options.order})))),t.products=t.calculatePage(a,t.productsOrder),t.isLoading=!1})).catch((function(){t.notice.msg="無法取得商品清單",t.notice.class="error",$("#noticeModal").modal("show"),setTimeout((function(){$("#noticeModal").modal("hide")}),1e3),t.isLoading=!1}))},getList:function(t){switch(t){case"hot":this.productType.hot=this.productsOrder.filter((function(t){return t.options.isHot}));break;case"new":this.productType.new=this.productType.new.filter((function(t,a){return a<6}));break;default:var a={bread:"麵包",cake:"蛋糕",pie:"手工派"};this.productType[t]=this.productsOrder.filter((function(s){return s.category===a[t]}));break}},goProduct:function(t){this.$router.push("/product/".concat(t))},addCart:function(t){var a=this;this.loadingItem=t;var s="".concat("https://course-ec-api.hexschool.io/","api/").concat("4e04c0f4-4640-4a82-9572-23fa0dfcbfa2","/ec/shopping"),i={product:t,quantity:1};this.$http.post(s,i).then((function(){a.loadingItem="",a.notice.msg="已加入購物車，請點選上方購物車進行結帳。",a.notice.class="success",$("#noticeModal").modal("show"),setTimeout((function(){$("#noticeModal").modal("hide")}),1e3),a.$bus.$emit("updateQuantity",i.quantity)})).catch((function(t){a.loadingItem="";var s=Object(n["a"])(t.response.data.errors,1);a.notice.msg=s[0],a.notice.class="error",$("#noticeModal").modal("show"),setTimeout((function(){$("#noticeModal").modal("hide")}),1e3)}))},calculatePage:function(t,a){var s=a.length,i=12,e=Math.ceil(s/i),n=t;n>e&&(n=e);var r=n*i-i+1,c=n*i,o=[];return a.forEach((function(t,a){var s=a+1;s>=r&&s<=c&&o.push(t)})),this.pagination={current_page:n,total_pages:e},o},updateFavorite:function(t){var a=this.favoriteList.indexOf(t);-1===a?(this.favoriteList.push(t),this.notice.msg="已加入收藏。",this.notice.class="success"):(this.favoriteList.splice(a,1),this.notice.msg="已取消收藏。",this.notice.class="success"),localStorage.setItem("favoriteList",JSON.stringify(this.favoriteList)),$("#noticeModal").modal("show"),setTimeout((function(){$("#noticeModal").modal("hide")}),1e3)}},created:function(){this.getProducts()}},d=l,u=s("2877"),f=Object(u["a"])(d,i,e,!1,null,null,null);a["default"]=f.exports}}]);
//# sourceMappingURL=chunk-72303ca2.b50abd15.js.map