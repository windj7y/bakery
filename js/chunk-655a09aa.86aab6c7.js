(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-655a09aa"],{"2df1":function(t,s,a){"use strict";a.r(s);var e=function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",[a("loading",{attrs:{active:t.isLoading},on:{"update:active":function(s){t.isLoading=s}}}),a("Banner",{attrs:{bannerData:t.bannerData}}),a("div",{staticClass:"container my-5"},[a("div",{staticClass:"row justify-content-center"},[a("div",{staticClass:"col-md-8"},[a("ShoppingProcess",{attrs:{process:t.process}}),a("h4",{staticClass:"order-title-complete pl-2"},[t._v("訂單明細")]),a("table",{staticClass:"table cart-list mb-4"},[t._m(0),a("tbody",[t._l(t.order.products,(function(s){return a("tr",{key:s.id},[a("td",{attrs:{width:"120px"}},[a("img",{staticClass:"img-fluid",attrs:{src:s.product.imageUrl[0],alt:s.product.title}})]),a("td",{staticClass:"text-left"},[t._v(" "+t._s(s.product.title)+" ")]),s.product.price?a("td",[t._v(" NT$ "+t._s(t._f("money")(s.product.price))+" ")]):t._e(),a("td",[t._v(" "+t._s(s.quantity)+" ")]),a("td",[t._v(" NT$ "+t._s(t._f("money")(s.product.price*s.quantity))+" ")])])})),t.order.coupon&&t.order.coupon.enabled?a("tr",[a("td"),a("td",{staticClass:"text-left",attrs:{colspan:"3"}},[t._v("折扣")]),a("td",[t._v("- NT$ "+t._s(t._f("money")(t.discount)))]),a("td")]):t._e()],2),a("tfoot",[a("tr",[a("td",{staticClass:"text-center font-weight-bold",attrs:{colspan:"3"}},[t._v(" 總計 ")]),a("td",{staticClass:"text-center",attrs:{colspan:"2"}},[t.order.amount?a("span",{staticClass:"font-weight-bold"},[t._v("NT$ "+t._s(t._f("money")(t.order.amount)))]):t._e()])])])]),a("h4",{staticClass:"order-title-complete pl-2 mb-4"},[t._v("訂購者資訊")]),a("div",{staticClass:"row justify-content-center mb-5"},[a("div",{staticClass:"col-8"},[a("div",{staticClass:"row mb-2"},[a("div",{staticClass:"col-4"},[t._v("姓名")]),a("div",{staticClass:"col-8"},[t._v(t._s(t.order.user.name))])]),a("div",{staticClass:"row mb-2"},[a("div",{staticClass:"col-4"},[t._v("信箱")]),a("div",{staticClass:"col-8"},[t._v(t._s(t.order.user.email))])]),a("div",{staticClass:"row mb-2"},[a("div",{staticClass:"col-4"},[t._v("電話")]),a("div",{staticClass:"col-8"},[t._v(t._s(t.order.user.tel))])]),a("div",{staticClass:"row mb-2"},[a("div",{staticClass:"col-4"},[t._v("地址")]),a("div",{staticClass:"col-8"},[t._v(t._s(t.order.user.address))])]),a("div",{staticClass:"row mb-2"},[a("div",{staticClass:"col-4"},[t._v("付款方式")]),a("div",{staticClass:"col-8"},[t._v(t._s(t.order.payment))])]),t.order.message?a("div",{staticClass:"row mb-2"},[a("div",{staticClass:"col-4"},[t._v("留言")]),a("div",{staticClass:"col-8"},[t._v(t._s(t.order.message))])]):t._e()])]),a("div",{staticClass:"text-center"},[a("button",{staticClass:"btn btn-primary",attrs:{type:"button"},on:{click:t.goProducts}},[t._v(" 繼續購物 ")])])],1)])]),a("NoticeModal",{attrs:{notice:t.notice}})],1)},c=[function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("thead",[a("tr",[a("th",{attrs:{colspan:"2",scope:"col"}},[t._v("商品名稱")]),a("th",{attrs:{scope:"col"}},[t._v("售價")]),a("th",{attrs:{scope:"col"}},[t._v("數量")]),a("th",{attrs:{scope:"col"}},[t._v("小計")])])])}],r=(a("99af"),a("4160"),a("159b"),a("84af")),o=a("fda8"),i=a("db3f"),l={components:{Banner:r["a"],ShoppingProcess:o["a"],NoticeModal:i["a"]},data:function(){return{order:{user:{}},cartTotal:0,discount:"",notice:{msg:"",class:""},bannerData:{title:"訂購完成",class:"cart-banner"},process:["alert-wait","alert-wait","alert-now"],isLoading:!1}},methods:{getOrder:function(){var t=this;this.isLoading=!0;var s=this.$route.params.id,a="".concat("https://course-ec-api.hexschool.io/","api/").concat("4e04c0f4-4640-4a82-9572-23fa0dfcbfa2","/ec/orders/").concat(s);this.$http.get(a).then((function(s){t.order=s.data.data,t.order.coupon&&t.order.coupon.enabled&&(t.order.products.forEach((function(s){var a=s.product.price*s.quantity;t.cartTotal+=a})),t.discount=t.cartTotal-t.order.amount),t.isLoading=!1})).catch((function(){t.notice.msg="無法取得訂單資訊",t.notice.class="error",$("#noticeModal").modal("show"),setTimeout((function(){$("#noticeModal").modal("hide")}),1e3),t.isLoading=!1}))},goProducts:function(){this.$router.push("/products")}},created:function(){this.getOrder()}},n=l,d=a("2877"),u=Object(d["a"])(n,e,c,!1,null,null,null);s["default"]=u.exports},8418:function(t,s,a){"use strict";var e=a("c04e"),c=a("9bf2"),r=a("5c6c");t.exports=function(t,s,a){var o=e(s);o in t?c.f(t,o,r(0,a)):t[o]=a}},"84af":function(t,s,a){"use strict";var e=function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{class:"jumbotron jumbotron-fluid d-flex align-items-end "+t.bannerData.class+" mb-0"},[a("div",{staticClass:"container"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-4"},[a("div",{staticClass:"bg-bright p-3"},[a("h2",{staticClass:"text-center products-banner-text mb-0"},[t._v(t._s(t.bannerData.title))])])])])])])},c=[],r={props:["bannerData"]},o=r,i=a("2877"),l=Object(i["a"])(o,e,c,!1,null,null,null);s["a"]=l.exports},"99af":function(t,s,a){"use strict";var e=a("23e7"),c=a("d039"),r=a("e8b5"),o=a("861d"),i=a("7b0b"),l=a("50c4"),n=a("8418"),d=a("65f0"),u=a("1dde"),v=a("b622"),f=a("2d00"),p=v("isConcatSpreadable"),m=9007199254740991,_="Maximum allowed index exceeded",b=f>=51||!c((function(){var t=[];return t[p]=!1,t.concat()[0]!==t})),C=u("concat"),h=function(t){if(!o(t))return!1;var s=t[p];return void 0!==s?!!s:r(t)},g=!b||!C;e({target:"Array",proto:!0,forced:g},{concat:function(t){var s,a,e,c,r,o=i(this),u=d(o,0),v=0;for(s=-1,e=arguments.length;s<e;s++)if(r=-1===s?o:arguments[s],h(r)){if(c=l(r.length),v+c>m)throw TypeError(_);for(a=0;a<c;a++,v++)a in r&&n(u,v,r[a])}else{if(v>=m)throw TypeError(_);n(u,v++,r)}return u.length=v,u}})},db3f:function(t,s,a){"use strict";var e=function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"modal fade",attrs:{id:"noticeModal",tabindex:"-1",role:"dialog","aria-labelledby":"noticeModalLabel","aria-hidden":"true"}},[a("div",{staticClass:"modal-dialog"},[a("div",{staticClass:"modal-content"},[a("div",{staticClass:"modal-body text-center msg-color"},["success"===t.notice.class?a("i",{staticClass:"far fa-check-circle fa-3x mt-3 text-success"}):a("i",{staticClass:"fas fa-exclamation-circle fa-3x mt-3 text-danger"}),a("p",{staticClass:"mt-3 font-weight-bold"},[t._v(t._s(t.notice.msg))])])])])])},c=[],r={props:["notice"]},o=r,i=a("2877"),l=Object(i["a"])(o,e,c,!1,null,null,null);s["a"]=l.exports},fda8:function(t,s,a){"use strict";var e=function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"cart-step p-4 mb-5"},[a("h3",{staticClass:"text-center mb-4"},[t._v("購物流程")]),a("div",{staticClass:"row text-center"},[a("div",{staticClass:"col-12 col-sm d-flex justify-content-center"},[a("div",{class:"alert "+t.process[0]+" alert-round p-4",attrs:{role:"alert"}},[a("i",{staticClass:"fas fa-shopping-cart fa-3x mb-2"}),a("p",{staticClass:"mb-0"},[t._v("1. 購物車")])])]),a("div",{staticClass:"col-12 col-sm d-flex justify-content-center"},[a("div",{class:"alert "+t.process[1]+" alert-round p-4",attrs:{role:"alert"}},[a("i",{staticClass:"fas fa-edit fa-3x mb-2 pl-2"}),a("p",{staticClass:"mb-0"},[t._v("2. 填寫資料")])])]),a("div",{staticClass:"col-12 col-sm d-flex justify-content-center"},[a("div",{class:"alert "+t.process[2]+" alert-round p-4",attrs:{role:"alert"}},[a("i",{staticClass:"fas fa-file-alt fa-3x mb-2 pl-2"}),a("p",{staticClass:"mb-0"},[t._v("3. 訂購完成")])])])])])},c=[],r={props:["process"]},o=r,i=a("2877"),l=Object(i["a"])(o,e,c,!1,null,null,null);s["a"]=l.exports}}]);
//# sourceMappingURL=chunk-655a09aa.86aab6c7.js.map