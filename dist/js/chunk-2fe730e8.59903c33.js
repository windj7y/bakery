(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2fe730e8"],{"7cb4":function(t,a,e){"use strict";e.r(a);var s=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",[e("loading",{attrs:{active:t.isLoading},on:{"update:active":function(a){t.isLoading=a}}}),e("Banner",{attrs:{bannerData:t.bannerData}}),e("div",{staticClass:"container my-5"},[e("div",{staticClass:"row justify-content-center"},[e("div",{staticClass:"col-md-8"},[e("ShoppingProcess",{attrs:{process:t.process}}),e("div",{staticClass:"card border-0"},[e("h4",{staticClass:"card-header order-title pb-3"},[t._v("訂購者資訊")]),e("validation-observer",{scopedSlots:t._u([{key:"default",fn:function(a){var s=a.invalid;return[e("form",{on:{submit:function(a){return a.preventDefault(),t.createOrder(a)}}},[e("div",{staticClass:"card-body"},[e("div",{staticClass:"form-group"},[e("validation-provider",{attrs:{rules:"required"},scopedSlots:t._u([{key:"default",fn:function(a){var s=a.errors,r=a.classes;return[e("label",{attrs:{for:"username"}},[t._v("* 姓名")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.form.name,expression:"form.name"}],staticClass:"form-control",class:r,attrs:{type:"text",name:"姓名",id:"username"},domProps:{value:t.form.name},on:{input:function(a){a.target.composing||t.$set(t.form,"name",a.target.value)}}}),e("span",{staticClass:"invalid-feedback"},[t._v(t._s(s[0]))])]}}],null,!0)})],1),e("div",{staticClass:"form-group"},[e("validation-provider",{attrs:{rules:"required|email"},scopedSlots:t._u([{key:"default",fn:function(a){var s=a.errors,r=a.classes;return[e("label",{attrs:{for:"email"}},[t._v("* 信箱")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.form.email,expression:"form.email"}],staticClass:"form-control",class:r,attrs:{type:"email",name:"信箱",id:"email"},domProps:{value:t.form.email},on:{input:function(a){a.target.composing||t.$set(t.form,"email",a.target.value)}}}),e("span",{staticClass:"invalid-feedback"},[t._v(t._s(s[0]))])]}}],null,!0)})],1),e("div",{staticClass:"form-group"},[e("validation-provider",{attrs:{rules:"required|min:8"},scopedSlots:t._u([{key:"default",fn:function(a){var s=a.errors,r=a.classes;return[e("label",{attrs:{for:"phone"}},[t._v("* 電話")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.form.tel,expression:"form.tel"}],staticClass:"form-control",class:r,attrs:{type:"tel",name:"電話",id:"phone"},domProps:{value:t.form.tel},on:{input:function(a){a.target.composing||t.$set(t.form,"tel",a.target.value)}}}),e("span",{staticClass:"invalid-feedback"},[t._v(t._s(s[0]))])]}}],null,!0)})],1),e("div",{staticClass:"form-group"},[e("validation-provider",{attrs:{rules:"required"},scopedSlots:t._u([{key:"default",fn:function(a){var s=a.errors,r=a.classes;return[e("label",{attrs:{for:"address"}},[t._v("* 地址")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.form.address,expression:"form.address"}],staticClass:"form-control",class:r,attrs:{type:"text",name:"地址",id:"address"},domProps:{value:t.form.address},on:{input:function(a){a.target.composing||t.$set(t.form,"address",a.target.value)}}}),e("span",{staticClass:"invalid-feedback"},[t._v(t._s(s[0]))])]}}],null,!0)})],1),e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"payment"}},[t._v("* 付款方式")]),e("select",{directives:[{name:"model",rawName:"v-model",value:t.form.payment,expression:"form.payment"}],staticClass:"form-control",attrs:{name:"payment",id:"payment",required:""},on:{change:function(a){var e=Array.prototype.filter.call(a.target.options,(function(t){return t.selected})).map((function(t){var a="_value"in t?t._value:t.value;return a}));t.$set(t.form,"payment",a.target.multiple?e:e[0])}}},[e("option",{attrs:{value:"",disabled:""}},[t._v(" 請選擇 ")]),e("option",{attrs:{value:"WebATM"}},[t._v(" WebATM ")]),e("option",{attrs:{value:"ATM"}},[t._v(" ATM ")]),e("option",{attrs:{value:"CVS"}},[t._v(" CVS ")]),e("option",{attrs:{value:"Barcode"}},[t._v(" Barcode ")]),e("option",{attrs:{value:"Credit"}},[t._v(" Credit ")]),e("option",{attrs:{value:"ApplePay"}},[t._v(" ApplePay ")]),e("option",{attrs:{value:"GooglePay"}},[t._v(" GooglePay ")])])]),e("div",{staticClass:"form-group mb-0"},[e("label",{attrs:{for:"message"}},[t._v("留言")]),e("textarea",{directives:[{name:"model",rawName:"v-model",value:t.form.message,expression:"form.message"}],staticClass:"form-control",attrs:{name:"message",id:"message",cols:"30",rows:"6"},domProps:{value:t.form.message},on:{input:function(a){a.target.composing||t.$set(t.form,"message",a.target.value)}}})])]),e("div",{staticClass:"card-footer d-flex justify-content-between"},[e("button",{staticClass:"btn btn-outline-secondary",attrs:{type:"button"},on:{click:t.goCart}},[e("i",{staticClass:"fas fa-angle-left"}),t._v(" 回上一步 ")]),e("button",{staticClass:"btn btn-primary",attrs:{disabled:s}},[t._v(" 送出訂單 "),e("i",{staticClass:"fas fa-angle-right"})])])])]}}])})],1)],1)])]),e("NoticeModal",{attrs:{notice:t.notice}})],1)},r=[],o=(e("99af"),e("84af")),n=e("fda8"),i=e("db3f"),l={components:{Banner:o["a"],ShoppingProcess:n["a"],NoticeModal:i["a"]},data:function(){return{form:{name:"",email:"",tel:"",address:"",payment:"",coupon:"",message:""},notice:{msg:"",class:""},bannerData:{title:"結帳",class:"cart-banner"},process:["alert-wait","alert-now","alert-wait"],isLoading:!1}},methods:{goCart:function(){this.$router.push("/cart")},createOrder:function(){var t=this;this.isLoading=!0;var a="".concat("https://course-ec-api.hexschool.io/","api/").concat("4e04c0f4-4640-4a82-9572-23fa0dfcbfa2","/ec/orders");this.$http.post(a,this.form).then((function(a){t.notice.msg="恭喜你完成訂單。",t.notice.class="success",$("#noticeModal").modal("show"),setTimeout((function(){$("#noticeModal").modal("hide"),t.$bus.$emit("updateQuantity",0,1),t.$router.push("/complete/".concat(a.data.data.id))}),1e3),t.isLoading=!1})).catch((function(){t.notice.msg="建立訂單失敗。",t.notice.class="error",$("#noticeModal").modal("show"),setTimeout((function(){$("#noticeModal").modal("hide")}),1e3),t.isLoading=!1}))}},created:function(){var t=this;this.$bus.$on("sendCoupon",(function(a){t.form.coupon=a}))},beforeDestroy:function(){this.$bus.$off("sendCoupon")}},c=l,d=e("2877"),u=Object(d["a"])(c,s,r,!1,null,null,null);a["default"]=u.exports},8418:function(t,a,e){"use strict";var s=e("c04e"),r=e("9bf2"),o=e("5c6c");t.exports=function(t,a,e){var n=s(a);n in t?r.f(t,n,o(0,e)):t[n]=e}},"84af":function(t,a,e){"use strict";var s=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{class:"jumbotron jumbotron-fluid d-flex align-items-end "+t.bannerData.class+" mb-0"},[e("div",{staticClass:"container"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-4"},[e("div",{staticClass:"bg-bright p-3"},[e("h2",{staticClass:"text-center products-banner-text mb-0"},[t._v(t._s(t.bannerData.title))])])])])])])},r=[],o={props:["bannerData"]},n=o,i=e("2877"),l=Object(i["a"])(n,s,r,!1,null,null,null);a["a"]=l.exports},"99af":function(t,a,e){"use strict";var s=e("23e7"),r=e("d039"),o=e("e8b5"),n=e("861d"),i=e("7b0b"),l=e("50c4"),c=e("8418"),d=e("65f0"),u=e("1dde"),f=e("b622"),m=e("2d00"),p=f("isConcatSpreadable"),v=9007199254740991,b="Maximum allowed index exceeded",g=m>=51||!r((function(){var t=[];return t[p]=!1,t.concat()[0]!==t})),C=u("concat"),h=function(t){if(!n(t))return!1;var a=t[p];return void 0!==a?!!a:o(t)},_=!g||!C;s({target:"Array",proto:!0,forced:_},{concat:function(t){var a,e,s,r,o,n=i(this),u=d(n,0),f=0;for(a=-1,s=arguments.length;a<s;a++)if(o=-1===a?n:arguments[a],h(o)){if(r=l(o.length),f+r>v)throw TypeError(b);for(e=0;e<r;e++,f++)e in o&&c(u,f,o[e])}else{if(f>=v)throw TypeError(b);c(u,f++,o)}return u.length=f,u}})},db3f:function(t,a,e){"use strict";var s=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"modal fade",attrs:{id:"noticeModal",tabindex:"-1",role:"dialog","aria-labelledby":"noticeModalLabel","aria-hidden":"true"}},[e("div",{staticClass:"modal-dialog"},[e("div",{staticClass:"modal-content"},[e("div",{staticClass:"modal-body text-center msg-color"},["success"===t.notice.class?e("i",{staticClass:"far fa-check-circle fa-3x mt-3 text-success"}):e("i",{staticClass:"fas fa-exclamation-circle fa-3x mt-3 text-danger"}),e("p",{staticClass:"mt-3 font-weight-bold"},[t._v(t._s(t.notice.msg))])])])])])},r=[],o={props:["notice"]},n=o,i=e("2877"),l=Object(i["a"])(n,s,r,!1,null,null,null);a["a"]=l.exports},fda8:function(t,a,e){"use strict";var s=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"cart-step p-4 mb-5"},[e("h3",{staticClass:"text-center mb-4"},[t._v("購物流程")]),e("div",{staticClass:"row text-center"},[e("div",{staticClass:"col-12 col-sm d-flex justify-content-center"},[e("div",{class:"alert "+t.process[0]+" alert-round p-4",attrs:{role:"alert"}},[e("i",{staticClass:"fas fa-shopping-cart fa-3x mb-2"}),e("p",{staticClass:"mb-0"},[t._v("1. 購物車")])])]),e("div",{staticClass:"col-12 col-sm d-flex justify-content-center"},[e("div",{class:"alert "+t.process[1]+" alert-round p-4",attrs:{role:"alert"}},[e("i",{staticClass:"fas fa-edit fa-3x mb-2 pl-2"}),e("p",{staticClass:"mb-0"},[t._v("2. 填寫資料")])])]),e("div",{staticClass:"col-12 col-sm d-flex justify-content-center"},[e("div",{class:"alert "+t.process[2]+" alert-round p-4",attrs:{role:"alert"}},[e("i",{staticClass:"fas fa-file-alt fa-3x mb-2 pl-2"}),e("p",{staticClass:"mb-0"},[t._v("3. 訂購完成")])])])])])},r=[],o={props:["process"]},n=o,i=e("2877"),l=Object(i["a"])(n,s,r,!1,null,null,null);a["a"]=l.exports}}]);
//# sourceMappingURL=chunk-2fe730e8.59903c33.js.map